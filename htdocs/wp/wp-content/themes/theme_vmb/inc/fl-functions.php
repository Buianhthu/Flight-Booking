<?php
$GLOBALS['CODECITY'] = array(
  "HAN" => "Hà Nội",
  "HPH" => "Hải Phòng",
  "VDO" => "Vân Đồn",
  "DIN" => "Điện Biên",
  "VII" => "Vinh",
  "HUI" => "Huế",
  "VDH" => "Đồng Hới",
  "DAD" => "Đà Nẵng",
  "PXU" => "Pleiku",
  "TBB" => "Tuy Hòa",
  "SGN" => "Hồ Chí Minh",
  "NHA" => "Nha Trang",
  "CXR" => "Nha Trang",
  "DLI" => "Đà Lạt",
  "PQC" => "Phú Quốc",
  "VCL" => "Tam Kỳ",
  "UIH" => "Quy Nhơn",
  "VCA" => "Cần Thơ",
  "VCS" => "Côn Đảo",
  "BMV" => "Ban Mê Thuột",
  "VKG" => "Rạch Giá",
  "CAH" => "Cà Mau",
  "THD" => "Thanh Hóa",
);

$GLOBALS['_CODECITY'] = array(
  "Hà Nội" => 'HAN',
  "Hải Phòng" => "HPH",
  "Vân Đồn"  => "VDO", 
  "Điện Biên Phủ" => "DIN",
  "Vinh" => "VII",
  "Huế"   => "HUI",
  "Đồng Hới" => "VDH",
  "Đà Nẵng" => "DAD",
  "Pleiku"  => "PXU",
  "Tuy Hòa" => "TBB" ,
  "Hồ Chí Minh" => "SGN",
  "Nha Trang" => "NHA",
  "Đà Lạt" => "DLI",
  "Phú Quốc" => "PQC",
  "Tam Kỳ" => "VCL",
  "Quy Nhơn" => "UIH",
  "Cần Thơ" => "VCA",
  "Côn Đảo" => "VCS",
  "Ban Mê Thuột" => "BMV",
  "Rạch Giá" => "VKG",
  "Cà Mau" =>  "CAH",
  "Thanh Hóa" => "THD",
);



$GLOBALS['AIRPORT'] = array(
  "HAN" => "Nội Bài (HAN)",
  "HPH" => "Cát Bi (HPH)",
  "VDO" => "Vân Đồn (VDO)",
  "DIN" => "Điện Biên Phủ (DIN)",
  "VII" => "Vinh (VII)",
  "HUI" => "Phú Bài (HUI)",
  "VDH" => "Đồng Hới (VDH)",
  "DAD" => "Đà Nẵng (DAD)",
  "PXU" => "Pleiku (PXU)",
  "TBB" => "Tuy Hòa (TBB)",
  "SGN" => "Tân Sơn Nhất (SGN)",
  "NHA" => "Cam Ranh (CXR)",
  "CXR" => "Cam Ranh (CXR)",
  "DLI" => "Liên Khương (DLI)",
  "PQC" => "Phú Quốc (PQC)",
  "VCL" => "Chu Lai (VCL)",
  "UIH" => "Phù Cát (UIH)",
  "VCA" => "Cần Thơ (VCA)",
  "VCS" => "Côn Đảo (VCS)",
  "BMV" => "Buôn Ma Thuột",
  "VKG" => "Rạch Giá (VKG)",
  "CAH" => "Cà Mau (CAH)",
  "THD" => "Sao Vàng (THD)",
);


$GLOBALS['FULL_AIRPORT_VN_GROUP_DESKTOP'] = array(
  array(
    "name" => "Việt Nam",
    "airport" => array(
      'HAN' => 'Hà Nội (HAN)',
      'HPH' => 'Hải Phòng (HPH)',
      'DAD' => 'Đà Nẵng (DAD)',
      'HUI' => 'Huế (HUI)',
      'VII' => 'Vinh (VII)',
      'CXR' => 'Nha Trang (CXR)',
      'DLI' => 'Đà Lạt (DLI)',
      'BMV' => 'Ban Mê Thuột (BMV)',
      'PQC' => 'Phú Quốc (PQC)',
      'VCA' => 'Cần Thơ (VCA)',
      'SGN' => 'Hồ Chí Minh (SGN)',
      'VCS' => 'Côn Đảo (VCS)',
      'VKG' => 'Rạch Giá (VKG)',
      'CAH' => 'Cà Mau (CAH)',
      'PXU' => 'Pleiku (PXU)',
      'UIH' => 'Quy Nhơn (UIH)',
      'TBB' => 'Tuy Hòa (TBB)',
      'THD' => 'Thanh Hóa (THD)',
      'VCL' => 'Chu Lai (VCL)',
      'VDH' => 'Đồng Hới (VDH)',
      'DIN' => 'Điện Biên (DIN)',
      'VDO' => 'Vân Đồn (VDO)',
    )
  )
);

// $GLOBALS['VIETNAM_CITY_NAME'] = array(
//   "TP Ho Chi Minh" => "TP Hồ Chí Minh",
//   "Ha Noi" => "Hà Nội",
//   "Hai Phong" => "Hải Phòng",
//   "Da Nang" => "Đà Nẵng",
//   "Khanh Hoa" => "Khánh Hòa",
//   "Dak Lak" => "Đắk Lắk",
//   "Lam Dong" => "Lâm Đồng",
//   "Thanh Hoa" => "Thanh Hoá",
//   "Thua Thien Hue" => "Thừa Thiên Huế",
//   "Ca Mau" => "Cà Mau",
//   "Can Tho" => "Cần Thơ",
//   "An Giang" => "An Giang",
//   "Bac Kan" => "Bắc Kạn",
//   "Bac Giang" => "Bắc Giang",
//   "Bac Lieu" => "Bạc Liêu",
//   "Bac Ninh" => "Bắc Ninh",
//   "Ben Tre" => "Bến Tre",
//   "Binh Dinh" => "Bình Định",
//   "Binh Duong" => "Bình Dương",
//   "Binh Phuoc" => "Bình Phước",
//   "Binh Thuan" => "Bình Thuận",
//   "Cao Dang" => "Cao Bằng",
//   "Dak Nong" => "Đắk Nông",
//   "Dien Bien" => "Điện Biên",
//   "Dong Nai" => "Đồng Nai",
//   "Dong Thap" => "Đồng Tháp",
//   "Gia Lai" => "Gia Lai",
//   "Ha Giang" => "Hà Giang",
//   "Ha Nam" => "Hà Nam",
//   "Ha Tinh" => "Hà Tĩnh",
//   "Hai Duong" => "Hải Dương",
//   "Hau Giang" => "Hậu Giang",
//   "Hoa Binh" => "Hoà Bình",
//   "Hung Yen" => "Hưng Yên",
//   "Kien Giang" => "Kiên Giang",
//   "Kon Tum" => "Kon Tum",
//   "Lang Son" => "Lạng Sơn",
//   "Lai Chau" => "Lai Châu",
//   "Lao Cai" => "Lào Cai",
//   "Long An" => "Long An",
//   "Nam Dinh" => "Nam Định",
//   "Nghe An" => "Nghệ An",
//   "Ninh Binh" => "Ninh Bình",
//   "Ninh Thuan" => "Ninh Thuận",
//   "Phu Tho" => "Phú Thọ",
//   "Phu Yen" => "Phú Yên",
//   "Quang Binh" => "Quảng Bình",
//   "Quang Nam" => "Quảng Nam",
//   "Quang Ngai" => "Quảng Ngãi",
//   "Quang Ninh" => "Quảng Ninh",
//   "Quang Tri" => "Quảng Trị",
//   "Soc Trang" => "Sóc Trăng",
//   "Tay Ninh" => "Tây Ninh",
//   "Thai Binh" => "Thái Bình",
//   "Thai Nguyen" => "Thái Nguyên",
//   "Tuyen Quang" => "Tuyên Quang",
//   "Tien Giang" => "Tiền Giang",
//   "Tra Vinh" => "Trà Vinh",
//   "Vinh Long" => "Vĩnh Long",
//   "Vinh Phuc" => "Vĩnh Phúc",
//   "Vung Tau" => "Vũng Tàu",
//   "Yen Bai" => "Yên Bái",
//   "Son La" => "Sơn La",
// );

// $GLOBALS['VN_FEE'] = array(
//   "AIRPORT_FEE" => array(
//     "adult" => 12000,
//     "child" => 6000,
//     "baby"  => 0
//   ),
//   "SERVICE_FEE" => array(
//     "adult" => 12000,
//     "child" => 12000,
//     "baby" => 12000
//   ),
//   "ADMIN_FEE" => array(
//     "adult" => 350000,
//     "child" => 350000,
//     "baby" => 0

//   )
// );


// $GLOBALS['VJ_FEE'] = array(
//   "AIRPORT_FEE" => array(
//     "adult" => 12000,
//     "child" => 6000,
//     "baby"  => 0
//   ),
//   "SERVICE_FEE" => array(
//     "adult" => 12000,
//     "child" => 12000,
//     "baby" => 12000
//   ),
//   "ADMIN_FEE" => array(
//     "adult" => 341000,
//     "child" => 341000,
//     "baby" => 110000
//   )
// );

// $GLOBALS['QH_FEE'] = array(
//   "AIRPORT_FEE" => array(
//     "adult" => 12000,
//     "child" => 6000,
//     "baby"  => 0
//   ),
//   "SERVICE_FEE" => array(
//     "adult" => 12000,
//     "child" => 12000,
//     "baby" => 12000
//   ),
//   "ADMIN_FEE" => array(
//     "adult" => 352000,
//     "child" => 352000,
//     "baby" => 110000

//   )
// );
// Tinh thue cho 1 nguoi
// function getFeeAPerson($person, $code)
// {
//   $feeArr = array();

//   if ($code == "VN") {
//     $feeArr = $GLOBALS["VN_FEE"];
//   }
//   if ($code == "QH") {
//     $feeArr = $GLOBALS["QH_FEE"];
//   }
//   if ($code == "VJ") {
//     $feeArr = $GLOBALS["VJ_FEE"];
//   }


//   if ($person == "adult") {
//     return $feeArr['AIRPORT_FEE'][$person] + $feeArr['SERVICE_FEE'][$person] + $feeArr['ADMIN_FEE'][$person];
//   }
//   if ($person == "child") {
//     return $feeArr['AIRPORT_FEE'][$person] + $feeArr['SERVICE_FEE'][$person] + $feeArr['ADMIN_FEE'][$person];
//   }
//   if ($person == "baby") {
//     return $feeArr['AIRPORT_FEE'][$person] + $feeArr['SERVICE_FEE'][$person] + $feeArr['ADMIN_FEE'][$person];
//   }
// }

// function getTotalAPerson($price, $fee)
// {
//   return $price + $fee;
// };




// print this ticket to HTML
// function printTicket($cus, $code, $price)
// {
//   $html = "";
//   $adultFee = getFeeAPerson("adult", $code);
//   $adultTotal = getTotalAPerson($price, $adultFee);

//   $html .= "<tr>
//   <td>Người lớn</td>
//   <td>" . $cus['adultNo'] . "</td>
//   <td>" . displayVNMoney($price) . "</td>
//   <td>" . displayVNMoney($adultFee) . "</td>
//   <td>" . displayVNMoney($adultTotal * $cus['adultNo']) . "</td>
//   </tr>";

//   if ($cus['childNo'] > 0) {
//     $childFee = getFeeAPerson("child", $code);
//     $childTotal = getTotalAPerson($price, $childFee);

//     $html .= "<tr>
//     <td>Trẻ em</td>
//     <td>" . $cus['childNo'] . "</td>
//     <td>" . displayVNMoney($price) . "</td>
//     <td>" . displayVNMoney($childFee) . "</td>
//     <td>" . displayVNMoney($childTotal * $cus['childNo']) . "</td>
//     </tr>";
//   } 
//   else {
//     $childTotal = 0;
//   }

//   if ($cus['babyNo'] > 0) {
//     $babyFee = getFeeAPerson("baby", $code);
//     $babyTotal = getTotalAPerson($price, $babyFee);

//     $html .= "<tr>
//     <td>Em bé</td>
//     <td>" . $cus['babyNo'] . "</td>
//     <td>" . displayVNMoney($price) . "</td>
//     <td>" . displayVNMoney($babyFee) . "</td>
//     <td>" . displayVNMoney($babyTotal * $cus['babyNo']) . "</td>
//     </tr>";
//   }
//   else {
//     $babyTotal = 0;
//   }

//   $totalAll = displayVNMoney(($adultTotal * $cus['adultNo']) + ($childTotal * $cus['childNo']) + ($babyTotal * $cus['babyNo']));

//   $html .= ' </table>
//                 <div class="">
//                   <h4 class="total-cost">Tổng cộng: <b class="text-success">' . $totalAll . '</b></h4>
//                 </div>';

//   return $html;
// }




// Function print the airport to the input form (INDEX)
function displayAirportDesktop($airportArr)
{
  $html = '';
  foreach ($airportArr as $tempArr) {
    foreach ($tempArr['airport'] as $cityCode => $cityName) {
      $html .= '<a class="city-name" data-citycode="' . $cityCode . '" >' . $cityName . '</a>';
    }
  }
  return $html;
}


// function print the airport to the drop down input in SIDEBAR
// function displayVNAirportSidebar()
// {
//   $html = "";
//   foreach ($GLOBALS['FULL_AIRPORT_VN_GROUP_DESKTOP'] as $newarr) {
//     foreach ($newarr['airport'] as $code => $name) {
//       $html .= "<option value=" . $code . ">" . $name . "</option>";
//     }
//   }
//   return $html;
// }



function displayVNMoney($number)
{
  // $string = strval($number);
  return number_format($number, 0, '', ',');
}

function displayAirlineLogo($code)
{
  $link = get_template_directory_uri();
  $html = "";
  if ($code == "VN") {
    $html .= "<img src='".$link."/assets/img/vna.gif'/>";

  }

  // if ($code == 'QH') {
  //   $html  = "<img src='../assets/images/airline-icon/qh.png' alt='QH logo' >";
  // }
  if ($code == "JS"){
    $html .= "<img src='".$link."/assets/img/js.gif'/>";
  }

  if ($code == "VJ") {
    $html .= "<img src='".$link."/assets/img/vj.gif'/>";
  }

  return $html;
}





// function getVietNameseCity($string)
// {
//   if (array_key_exists($string, $GLOBALS['VIETNAM_CITY_NAME'])) {
//     return $GLOBALS['VIETNAM_CITY_NAME'][$string];
//   }
//   else return "error";
// }

function getCityFromCode($string)
{
  if (array_key_exists($string, $GLOBALS['CITYCODE'])) {
    return $GLOBALS['CITYCODE'][$string];
  }
}

function getAirPort($string)
{
  if (array_key_exists($string, $GLOBALS['AIRPORT'])) {
    return $GLOBALS['AIRPORT'][$string];
  }
}

function getValueFromGlobal($string, $global)
{
  if (array_key_exists($string, $GLOBALS[$global])) {
    return $GLOBALS[$global][$string];
  }
}

// function change date format from input to Match the API
function changeDateFormat($date)
{
  $result = date('d-m-Y', strtotime($date));
  return $result;
}


// check departure and destination that available in AirLine
function checkActive($dep, $des)
{
  $vjair = array(
    "SGN" => array(
      "HAN", "DAD", "HPH", "NHA", "CXR", "HUI", "VII", "PQC", "UIH", "BMV", "DLI", "THD", "VCL", "VDH", "PXU", "TBB", "VDO"
    ),
    "HAN" => array("SGN", "DAD", "NHA", "CXR", "DLI", "HUI", "BMV", "VCA", "PQC", "UIH", "VCL", "PXU", "VDH", "TBB"),
  );
  $vjair["DAD"] = array("SGN", "HAN", "VCA", "HPH", "NHA", "CXR", "DLI", "BMV", "VII", "PQC", "THD");
  $vjair["NHA"] = array("SGN", "HAN", "HPH", "THD", "DAD", "VCA", "VII");
  $vjair["CXR"] = array("SGN", "HAN", "HPH", "THD", "DAD", "VCA", "VII");
  $vjair["HPH"] = array("SGN", "DAD", "NHA", "CXR", "PXU", "PQC", "DLI", "BMV", "VCA", "UIH");
  $vjair["HUI"] = array("SGN", "HAN");
  $vjair["VII"] = array("SGN", "DLI", "PXU", "BMV", "VCA", "NHA", "CXR", "DAD", "PQC");
  $vjair["DLI"] = array("HAN", "VII", "SGN", "HPH", "VCA", "DAD");
  $vjair["BMV"] = array("SGN", "HAN", "VII", "HPH", "DAD");
  $vjair["UIH"] = array("SGN", "HAN", "HPH");
  $vjair["VCA"] = array("DAD", "HAN", "HPH", "VII", "THD", "NHA", "CXR", "DLI");
  $vjair["PQC"] = array("SGN", "HAN", "HPH", "DAD", "VII");
  $vjair["THD"] = array("SGN", "NHA", "CXR", "VCA", "DAD");
  $vjair["VCL"] = array("SGN", "HAN");
  $vjair["VDH"] = array("SGN", "HAN");
  $vjair["PXU"] = array("SGN", "HPH", "VII", "HAN");
  $vjair["TBB"] = array("SGN", "HAN");
  $vjair["VDO"] = array("SGN");



  // vietnam airline

  $vna = array();
  $vna["BMV"] = array("DAD", "HAN", "SGN", "VII", "HPH", "VCA", "THD");
  $vna["VII"] = array("DAD", "HAN", "SGN", "BMV", "PQC", "NHA", "CXR", "VCA", "DLI");
  $vna["CAH"] = array("SGN");
  $vna["VCA"] = array("HAN", "PQC", "VCS", "DAD", "HPH", "BMV", "VII", "DLI");
  $vna["VCL"] = array("HAN", "SGN");
  $vna["VCS"] = array("HAN", "VCA", "SGN");
  $vna["DLI"] = array("HAN", "DAD", "SGN", "HPH", "BMV", "PQC", "THD", "VCA", "HUI");
  $vna["DAD"] = array("HAN", "BMV", "DLI", "HPH", "NHA", "CXR", "PXU", "SGN", "VII", "VCA", "PQC", "THD");
  $vna["DIN"] = array("HAN", "HPH");
  $vna["VDH"] = array("HAN", "SGN");
  $vna["HAN"] = array("BMV", "DAD", "DIN", "DLI", "HUI", "NHA", "CXR", "PQC", "PXU", "SGN", "TBB", "UIH", "VCA", "VCL", "VDH", "VII");
  $vna["HPH"] = array("DAD", "SGN", "NHA", "CXR", "DLI", "PQC", "BMV", "VCA", "DIN");
  $vna["SGN"] = array("BMV", "CAH", "DAD", "DLI", "HAN", "HPH", "HUI", "NHA", "CXR", "PQC", "PXU", "TBB", "THD", "UIH", "VCS", "VCL", "VDH", "VII", "VKG", "VDO");
  $vna["HUI"] = array("HAN", "SGN", "DLI");
  $vna["NHA"] = array("HAN", "SGN", "DAD", "HPH", "VII");
  $vna["CXR"] = array("HAN", "SGN", "DAD", "HPH", "VII");
  $vna["PQC"] = array("HAN", "SGN", "VKG", "VCA", "VII", "HPH", "DLI", "DAD");
  $vna["PXU"] = array("HAN", "SGN", "DAD");
  $vna["UIH"] = array("HAN", "SGN");
  $vna["VKG"] = array("PQC", "SGN");
  $vna["THD"] = array("SGN", "BMV", "DAD", "DLI");
  $vna["TBB"] = array("HAN", "SGN");
  $vna["VDO"] = array("SGN");

  // qh airways 

  $qh = array();
  $qh["SGN"] = array("HAN", "UIH", "THD", "VII", "VDO", "HPH", "DAD", "HUI", "PQC", "VDH", "CXR", "NHA", "BMV", "DLI", "VDH", "PXU");
  $qh["HAN"] = array("SGN", "BMV", "DAD", "VDH", "UIH", "NHA", "CXR", "PQC", "VCA", "VII", "DLI", "PXU", "VCL", "HUI", "TBB", "VCS");
  $qh["HPH"] = array("SGN", "UIH", "VCA", "CXR", "NHA", "BMV", "DAD", "DLI");
  $qh["DAD"] = array("BMV", "DLI", "HAN", "HPH", "SGN", "PXU", "VCA", "CXR", "NHA", "VCS");
  $qh["BMV"] = array("HAN", "VII", "DAD", "HPH", "SGN");
  $qh["VDH"] = array("HAN", "SGN");
  $qh["CXR"] = array("HAN", "HPH", "VII", "DAD", "SGN");
  $qh["NHA"] = array("HAN", "HPH", "DAD", "SGN", "VII");
  $qh["PQC"] = array("HAN", "SGN", "THD");
  $qh["VCA"] = array("HAN", "HPH", "DAD", "VCS");
  $qh["VCL"] = array("HAN");
  $qh["VII"] = array("HAN", "SGN", "BMV", "DLI", "PXU", "CXR", "NHA", "UIH");
  $qh["DLI"] = array("HAN", "VII", "DAD", "SGN", "HPH");
  $qh["PXU"] = array("HAN", "DAD", "VII", "SGN");
  $qh["UIH"] = array("SGN", "HAN", "HPH", "THD", "VII");
  $qh["THD"] = array("SGN", "UIH", "PQC");
  $qh["VDO"] = array("SGN");
  $qh["HUI"] = array("SGN", "HAN");
  $qh["TBB"] = array("HAN");
  $qh["VCS"] = array("VCA", "DAD", "HAN");

  $retur = array();
  $retur['vj'] = ($vjair[$dep] && in_array($des,$vjair[$dep])) ? true : false;
  $retur['vna'] = ($vna[$dep] && in_array($des, $vna[$dep])) ? true : false;
  $retur['qh'] = ($qh[$dep] && in_array($des, $qh[$dep])) ? true : false;
  
  return $retur;
}

function parseData($raw)
{
  $newRaw = json_decode($raw, true);
  return $newRaw;
}

/***
 * @param $price
 * @param $airline
 * @return float|int
 * vietnamairline - jetstar - vietjetair
 * VN : VietNam Airline
 * VJ : Vietjet Air
 * BL : Jetstar
 */
function get_price_child($price,$airline){
    $gia = 0;
    if($airline == 'VN'){
        $gia = round(($price)* 0.9);
        if($gia%1000!=0)
            $gia=ceil($gia/1000)*1000;
    }elseif($airline == 'JS' || $airline == 'VJ'){
        $gia = $price;
    }elseif($airline == 'QH'){
        $gia = round(($price)* 0.75);
        if($gia%1000!=0)
            $gia=ceil($gia/1000)*1000;
    }
    return $gia;
}

function get_price_infant($price,$airline){
    $gia = 0;
    if($airline == 'VN'){
        $gia = round(($price) * 0.1);
        $gia=ceil($gia/1000)*1000;
    }elseif($airline == 'JS' || $airline == 'VJ' || $airline == 'QH'){
        $gia = 0;
    }
    return $gia;
}


/**Tinh Thue Phi Nguoi Lon*/
function getTaxFee_adult($price,$airline){
    /***
    VN : VietNam Airline
    VJ : Vietjet Air
    BL : Jetstar
     */
    $thuephi = 0;

    if($airline == 'VN'){
        $vat=($price * 0.1);
        if( ($vat%1000) != 0 )
            $vat=ceil($vat/1000)*1000;
        $thuephi = round($vat);
    }
    elseif($airline == 'JS'){
        $thuephi = round($price * 0.1); 
    }
    elseif($airline == 'VJ'){
        $thuephi = round($price * 0.1);  // 20k phí admin
    }
    elseif($airline == 'QH'){
        $vat=($price * 0.1);
        if( ($vat%1000) != 0 )
            $vat=ceil($vat/1000)*1000;

        $thuephi = round($vat);
    }

    return $thuephi;
}

/*Tinh Thue Phi Tre Em*/
function getTaxFee_child($price,$airline){
    $gia = 0;
    if($airline == 'VN'){
        $baseprice=get_price_child($price,"VN");

        $vat=$baseprice*0.1;
        if( ($vat%1000) != 0 )
            $vat=ceil($vat/1000)*1000;
        $gia = round( $vat);
    }elseif($airline == 'JS'){
        $gia = round($price * 0.1);
    }elseif( $airline == 'VJ'){
        $gia = round($price * 0.1);
    }elseif($airline == 'QH'){
        $baseprice=get_price_child($price,"QH");
        $vat=$baseprice*0.1;
        if( ($vat%1000) != 0 )
            $vat=ceil($vat/1000)*1000;
    
        $gia = round( $vat );
    }
    return $gia;
}
/*Tinh Thue Phi Tre So Sinh*/
function getTaxFee_infant($price,$airline){
    $gia = 0;
    if($airline == 'VN'){
        $baseprice=get_price_infant($price,"VN");
        $vat=$baseprice*0.1;
        if( ($vat%1000) != 0 )
            $vat=ceil($vat/1000)*1000;
        $gia = round($vat);
    }elseif($airline == 'JS'){
        $gia = 0;
    }elseif($airline == 'VJ'){
        $gia = 0;
    }elseif($airline == 'QH'){
        $gia = 0;
    }
    return $gia;
} 

// ĐIỀU KIỆN HÀNH LÝ CỘNG THÊM LUỢT ĐI
function Dep_addBaggage($airline){
    $str = '';
    if($airline == 'VN'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 12 Kg hành lý xách tay.</td></tr>
        <tr><td>Hành lý ký gửi</td><td>Mỗi hành khách được mang tối đa 23 Kg hành lý ký gửi.</td></tr>';
    }
    elseif($airline == 'JS'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr>
          <td>Hành lý ký gửi</td>
          <td>
            <select name="dep_addbaggage[]" id="dep_addbaggage">
              <option value="0">Không mang hành lý ký gửi</option>
              <option value="220000">Thêm 15kg hành lý (220.000 VND/Khách)</option>
              <option value="240000">Thêm 20kg hành lý (240.000 VND/Khách)</option>
              <option value="330000">Thêm 25kg hành lý (330.000 VND/Khách)</option>
              <option value="460000">Thêm 30kg hành lý (460.000 VND/Khách)</option>
              <option value="525000">Thêm 35kg hành lý (525.000 VND/Khách)</option>
              <option value="590000">Thêm 40kg hành lý (590.000 VND/Khách)</option>
            </select>
          </td>
        </tr>';
    }
    elseif($airline == 'airmekong'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr><td>Hành lý ký gửi</td><td>Mỗi hành khách được mang tối đa 20 Kg hành lý ký gửi.</td></tr>';
    }
    elseif($airline == 'VJ'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr>
          <td>Hành lý ký gửi</td>
          <td>
            <select name="dep_addbaggage[]" id="dep_addbaggage">
              <option value="0">Không mang hành lý ký gửi</option>
              <option value="180000">Thêm 15kg hành lý (180.000 VND/Khách)</option>
              <option value="210000">Thêm 20kg hành lý (210.000 VND/Khách)</option>
              <option value="270000">Thêm 25kg hành lý (270.000 VND/Khách)</option>
              <option value="380000">Thêm 30kg hành lý (380.000 VND/Khách)</option>
              <option value="450000">Thêm 35kg hành lý (450.000 VND/Khách)</option>
              <option value="500000">Thêm 40kg hành lý (500.000 VND/Khách)</option>
              
            </select>
          </td>
        </tr>';
    }
    elseif($airline == 'QH'){

        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr>
          <td>Hành lý ký gửi</td>
          <td>
            <select name="dep_addbaggage[]" id="dep_addbaggage">
              <option value="0">Không mang hành lý ký gửi</option>
              <option value="180000">Thêm 15kg hành lý (180.000 VND/Khách)</option>
              <option value="210000">Thêm 20kg hành lý (210.000 VND/Khách)</option>
              <option value="270000">Thêm 25kg hành lý (270.000 VND/Khách)</option>
              <option value="380000">Thêm 30kg hành lý (380.000 VND/Khách)</option>
              <option value="450000">Thêm 35kg hành lý (450.000 VND/Khách)</option>
              <option value="500000">Thêm 40kg hành lý (500.000 VND/Khách)</option>
            </select>
          </td>
        </tr>';
    }

    echo $str;
}

// ĐIỀU KIỆN HÀNH LÝ LƯỢT VỀ
function Ret_addBaggage($airline, $ticketClass = ''){
    $str = '';
    if($airline == 'vietnamairline'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 12 Kg hành lý xách tay.</td></tr>
        <tr><td>Hành lý ký gửi</td><td>Mỗi hành khách được mang tối đa 23 Kg hành lý ký gửi.</td></tr>';
    }
    elseif($airline == 'jetstar'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr>
          <td>Hành lý ký gửi</td>
          <td>
            <select name="ret_addbaggage[]" class="ret_addbaggage">
              <option value="0">Không mang hành lý ký gửi</option>
              <option value="220000">Thêm 15kg hành lý (220.000 VND/Khách)</option>
              <option value="240000">Thêm 20kg hành lý (240.000 VND/Khách)</option>
              <option value="330000">Thêm 25kg hành lý (330.000 VND/Khách)</option>
              <option value="460000">Thêm 30kg hành lý (460.000 VND/Khách)</option>
              <option value="525000">Thêm 35kg hành lý (525.000 VND/Khách)</option>
              <option value="590000">Thêm 40kg hành lý (590.000 VND/Khách)</option>
            </select>
          </td>
        </tr>';
    }
    elseif($airline == 'airmekong'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr><td>Hành lý ký gửi</td><td>Mỗi hành khách được mang tối đa 20 Kg hành lý ký gửi.</td></tr>';
    }
    elseif($airline == 'vietjetair'){
        $str = '<tr><td>Hành lý xách tay</td><td>Mỗi hành khách được mang tối đa 7 Kg hành lý xách tay.</td></tr>
        <tr>
          <td>Hành lý ký gửi</td>
          <td>
            <select name="ret_addbaggage[]" class="ret_addbaggage">
              <option value="0">Không mang hành lý ký gửi</option>
              <option value="180000">Thêm 15kg hành lý (180.000 VND/Khách)</option>
              <option value="210000">Thêm 20kg hành lý (210.000 VND/Khách)</option>
              <option value="270000">Thêm 25kg hành lý (270.000 VND/Khách)</option>
              <option value="380000">Thêm 30kg hành lý (380.000 VND/Khách)</option>
              <option value="450000">Thêm 35kg hành lý (450.000 VND/Khách)</option>
              <option value="500000">Thêm 40kg hành lý (500.000 VND/Khách)</option>
            
            </select>
          </td>
        </tr>';
    }
    elseif($airline == 'bambooairways'){

        if($ticketClass == 'Business') {
            $str = '<tr>
            <td>Hành lý xách tay</td>
            <td>Mỗi hành khách được mang tối đa 2 kiện (2 x 7kg) hành lý xách tay.</td>
            </tr>';
        }else{
            $str = '<tr>
            <td>Hành lý xách tay</td>
            <td>Mỗi hành khách được mang tối đa 7kg hành lý xách tay.</td>
            </tr>';
        }

        if($ticketClass == 'Business') {
            $baggageSelect = '<select name="ret_addbaggage[]" class="ret_addbaggage">
            <option value="0">Miễn phí 30kg hành lý ký gửi</option>
            <option value="110000">Thêm 35kg hành lý (110.000 VND/Khách)</option>
            <option value="140000">Thêm 40kg hành lý (140.000 VND/Khách)</option>
            </select>';
        }elseif($ticketClass == 'Plus'){
            $baggageSelect = '<select name="ret_addbaggage[]" class="ret_addbaggage">
            <option value="0">Miễn phí 20kg hành lý ký gửi</option>
            <option value="100000">Thêm 25kg hành lý (100.000 VND/Khách)</option>
            <option value="130000">Thêm 30kg hành lý (130.000 VND/Khách)</option>
            <option value="170000">Thêm 35kg hành lý (170.000 VND/Khách)</option>
            <option value="190000">Thêm 40kg hành lý (190.000 VND/Khách)</option>
            </select>';
        }else{
            $baggageSelect = '<select name="ret_addbaggage[]" class="ret_addbaggage">
            <option value="0">Không mang hành lý ký gửi</option>
            <option value="210000">Thêm 20kg hành lý (210.000 VND/Khách)</option>
            <option value="300000">Thêm 30kg hành lý (300.000 VND/Khách)</option>
            <option value="330000">Thêm 35kg hành lý (330.000 VND/Khách)</option>
            <option value="370000">Thêm 40kg hành lý (370.000 VND/Khách)</option>
            </select>';
        }

        $str .= '<tr>
          <td>Hành lý ký gửi</td>
          <td>'.$baggageSelect.'</td>
        </tr>';
    }

    echo $str;
}

?>